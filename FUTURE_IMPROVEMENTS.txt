================================================================================
TOURNAMENT CONTROL CENTER - FUTURE IMPROVEMENTS & FEATURE ROADMAP
================================================================================

Generated: 2025-11-23
Updated: 2025-12-14 (Moved 26+ completed features to COMPLETED_IMPROVEMENTS.txt, added new improvement ideas)
System: Six-service tournament control platform with admin dashboard,
        signup PWA, three MagicMirror displays, and Stream Deck controller

================================================================================
OPERATING ENVIRONMENT & CONSTRAINTS
================================================================================

This roadmap is designed for a ONE-PERSON TOURNAMENT ORGANIZATION operating at
a SINGLE LOCATION with the following hardware:

  HARDWARE:
  - Ipad Pro(M4) 13 inch (Primary admin workstation - runs admin dashboard)
  - Mobile Phone (On-the-go actions during tournament)
  - Stream Deck Module 15 on Pi Zero 2 W (192.168.1.175)
  - 2x Raspberry Pi 5 displays (TV 1: Match/Bracket, TV 2: Flyer)

  CONSTRAINTS:
  - Single operator = must minimize manual work during live events
  - No staff = all actions must be doable by one person
  - Single venue = network reliability critical
  - Must handle 16-64 participants per tournament

  SCALING GOALS (Near-term):
  - Multiple concurrent tournaments (SSBU + MKW same day)
  - Additional displays (3-4 TVs)
  - Referee assistants (score entry only)
  - Recurring weekly events with minimal setup

For completed features, see: COMPLETED_IMPROVEMENTS.txt

================================================================================
TIER 1: TOURNAMENT DAY ESSENTIALS
================================================================================

These features reduce cognitive load and manual effort during LIVE tournaments.
Priority: CRITICAL for single-operator efficiency.

--------------------------------------------------------------------------------
1. COMMAND CENTER VIEW - COMPLETED 2025-12-07
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
4-quadrant layout, keyboard shortcuts, real-time WebSocket updates, mobile responsive

--------------------------------------------------------------------------------
2. KEYBOARD SHORTCUTS (MATCH SCORING) - COMPLETED 2025-12-07
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Number keys 1-5, W/L for winners, S to start, Enter for modal, R refresh, T ticker, ? help

--------------------------------------------------------------------------------
3. AUDIO ANNOUNCEMENTS VIA PI SPEAKERS - COMPLETED 2025-12-10
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
TTS via Web Speech API, preset announcements, custom text with speed control

--------------------------------------------------------------------------------
4. MATCH QUEUE AUTO-ADVANCE - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Auto-highlight next match, "NEXT UP" indicator, smart queue ordering

--------------------------------------------------------------------------------
5. TOURNAMENT DAY CHECKLIST - COMPLETED 2025-12-10
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
7-item automated checklist, color-coded status indicators, auto-refresh

--------------------------------------------------------------------------------
6. PANIC MODE / EMERGENCY CONTROLS - COMPLETED 2025-12-14
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
PANIC button, ALL CLEAR button, Technical Difficulties overlay on all displays,
match rollback (undo), keyboard shortcut 'P', reboot all displays button

--------------------------------------------------------------------------------
7. BATCH SCORE ENTRY - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Quick Score button (Ctrl+Shift+S), batch modal, quick winner buttons, validation

--------------------------------------------------------------------------------
8. DQ/FORFEIT AUTOMATION - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Server-side DQ timer state, auto-DQ/notify modes, warning events, configurable settings

--------------------------------------------------------------------------------
9. PARTICIPANT CHECK-IN IMPROVEMENTS
--------------------------------------------------------------------------------
REMAINING FROM PREVIOUS ROADMAP:

FEATURES:
- Bulk check-in ("Check in all participants")
- Visual/audio alerts when check-in deadline approaches
- Process check-ins button (Challonge's process_check_ins endpoint)
- Self-check-in via signup app (separate item)

--------------------------------------------------------------------------------
10. SCHEDULED TICKER MESSAGES - COMPLETED 2025-12-10
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Schedule ticker messages, one-time/recurring, enable/disable, JSON persistence

--------------------------------------------------------------------------------
11. AUTOMATED SPONSOR ROTATION - COMPLETED 2025-12-10
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Time-based carousel, sequential/random order, per-position rotation, WebSocket + HTTP

--------------------------------------------------------------------------------
12. MATCH HISTORY LOG
--------------------------------------------------------------------------------
FEATURES:
- Side panel showing last 10 completed matches
- Timestamp, players, score, winner
- Click to reopen if needed
- Export match history to CSV

--------------------------------------------------------------------------------
13. REAL-TIME DATA FRESHNESS & CACHE INVALIDATION (NEW - CRITICAL)
--------------------------------------------------------------------------------
PROBLEM: During live tournaments, the admin dashboard sometimes shows stale data.
Rate limiting may be too aggressive, causing fresh data to land too slowly.
Critical moments when data MUST be current:
- Immediately before tournament starts (participant list, seeds)
- During active matches (scores, standings, bracket updates)
- Immediately after tournament ends (final standings, results)

CURRENT BEHAVIOR:
- Adaptive rate limiting: IDLE (12/min), UPCOMING (20/min), ACTIVE (30/min)
- Hybrid caching with TTL-based invalidation
- WebSocket updates supplement polling but don't replace it
- Match actions trigger immediate API calls but cached data may still be served

ISSUES OBSERVED:
- Dashboard showing old match states after scores submitted
- Bracket display not updating immediately after match completion
- Participant count out of sync between signup app and dashboard
- Rate limit status showing ACTIVE but data feels delayed

PROPOSED SOLUTIONS:

A) Aggressive Cache Busting on Critical Actions
   - Force cache invalidation on: score submit, match start, tournament start/end
   - Add "Force Refresh" button that bypasses all caching
   - Clear cached data when tournament state changes (pending → underway → complete)

B) WebSocket-First Architecture
   - Make WebSocket the PRIMARY data source during ACTIVE mode
   - Only fall back to polling when WebSocket disconnects
   - Push ALL match updates via WebSocket, not just notifications
   - Server maintains authoritative state, broadcasts diffs

C) Optimistic UI Updates
   - Update UI immediately on user action (don't wait for API response)
   - Reconcile with server state when response arrives
   - Show "syncing" indicator when optimistic update pending
   - Roll back on error with clear user feedback

D) Smart Polling Intervals
   - IDLE: 60 seconds (current: 12/min = 5 sec, too aggressive for idle)
   - UPCOMING (< 1 hour): 15 seconds
   - ACTIVE: 5 seconds (current: 30/min = 2 sec, may be right)
   - POST-MATCH (10 min after last match): 10 seconds
   - Consider Challonge API limits (varies by plan)

E) Stale Data Indicators
   - Show "Last updated: X seconds ago" on each data panel
   - Yellow warning if data > 30 seconds old during ACTIVE
   - Red warning if data > 60 seconds old during ACTIVE
   - Auto-trigger refresh when staleness threshold exceeded

F) Event-Driven Cache Invalidation
   - When admin submits score → invalidate match cache for that tournament
   - When participant signs up → invalidate participant cache
   - When tournament state changes → invalidate all caches for that tournament
   - Webhook from Challonge (if available) to trigger invalidation

IMPLEMENTATION PRIORITY:
1. Add "Force Refresh All" button (quick win)
2. Show staleness indicators on data panels
3. Force cache clear on tournament state changes
4. Evaluate WebSocket-first for ACTIVE mode
5. Consider Challonge webhook integration

FILES TO MODIFY:
- admin-dashboard/server.js (cache invalidation logic)
- admin-dashboard/services/challonge-service.js (if exists, or add)
- admin-dashboard/public/js/*.js (staleness indicators, force refresh)
- admin-dashboard/routes/matches.js (optimistic updates)

DEPENDENCIES:
- Need to understand Challonge API rate limits for current plan
- May need to upgrade Challonge plan for higher API limits
- WebSocket infrastructure already in place (Socket.IO)

G) Cloudflare Configuration for Fresh Data
   Current setup: All traffic goes through Cloudflare (*.despairhardware.com)

   RECOMMENDED CLOUDFLARE SETTINGS:

   1. Page Rules for API Endpoints:
      - Match: admin.despairhardware.com/api/*
      - Settings: Cache Level = Bypass, Browser TTL = Respect Existing Headers
      - This ensures API calls always hit origin server

   2. Cache Rules for Static Assets:
      - Match: *.despairhardware.com/*.js, *.css, *.png, *.jpg
      - Settings: Edge TTL = 1 hour, Browser TTL = 1 hour
      - Add cache-busting query params (?v=timestamp) on deploy

   3. Cache Rules for HTML Pages:
      - Match: admin.despairhardware.com/*.html
      - Settings: Edge TTL = 5 minutes, Browser TTL = no-cache
      - Forces fresh HTML but allows short edge caching

   4. WebSocket Support:
      - Ensure WebSocket connections are NOT cached
      - Cloudflare should pass through WebSocket upgrade requests
      - Check: Network > WebSockets = Enabled

   5. Development Mode (Tournament Day):
      - Enable "Development Mode" 3 hours before tournament
      - Bypasses ALL caching for 3 hours
      - Good for ensuring fresh data during critical periods
      - Can be toggled via Cloudflare dashboard or API

   6. Purge Cache API Integration:
      - Add endpoint: POST /api/admin/purge-cloudflare-cache
      - Calls Cloudflare API to purge specific URLs or entire zone
      - Trigger on: tournament start, tournament end, manual button
      - Requires: Cloudflare API token with Cache Purge permission

   7. Cache-Control Headers from Origin:
      - API responses: Cache-Control: no-store, must-revalidate
      - Static assets: Cache-Control: public, max-age=3600
      - HTML pages: Cache-Control: no-cache, must-revalidate
      - Add these headers in Express middleware

   CLOUDFLARE API INTEGRATION:
   ```javascript
   // Example: Purge cache for tournament data
   async function purgeCloudflareCache(urls) {
     const response = await fetch(
       `https://api.cloudflare.com/client/v4/zones/${ZONE_ID}/purge_cache`,
       {
         method: 'POST',
         headers: {
           'Authorization': `Bearer ${CF_API_TOKEN}`,
           'Content-Type': 'application/json'
         },
         body: JSON.stringify({ files: urls })
       }
     );
     return response.json();
   }
   ```

   ENVIRONMENT VARIABLES NEEDED:
   - CLOUDFLARE_ZONE_ID: Zone ID from Cloudflare dashboard
   - CLOUDFLARE_API_TOKEN: API token with Cache Purge permission

   QUICK WIN - TOURNAMENT DAY CHECKLIST:
   [ ] Enable Cloudflare Development Mode (3 hours before)
   [ ] Verify WebSockets enabled in Cloudflare
   [ ] Test API endpoints return fresh data
   [ ] Disable Development Mode after tournament (saves resources)

================================================================================
TIER 2: MOBILE PHONE QUICK ACTIONS
================================================================================

These features enable tournament management from your phone while walking
around the venue (checking on matches, talking to participants, etc.).

--------------------------------------------------------------------------------
11. MOBILE ADMIN PWA - NOT PURSUED (2025-12-09)
--------------------------------------------------------------------------------
STATUS: CANCELLED - See COMPLETED_IMPROVEMENTS.txt for details
Decision: Existing admin dashboard works on mobile browsers. Command Center is mobile-optimized.

--------------------------------------------------------------------------------
12. PUSH NOTIFICATIONS - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Web Push API with VAPID, 6 notification types, per-user preferences, service worker

--------------------------------------------------------------------------------
13. VOICE COMMANDS (NEW)
--------------------------------------------------------------------------------
PROBLEM: During tournament, hands may be busy. Voice commands enable
hands-free operation.

FEATURES:
- Web Speech API integration
- Commands:
  - "Start match [number]" - Mark match as underway
  - "Score [player name] [number]" - Update score
  - "Winner [player name]" - Declare winner
  - "Next match" - Call next match
  - "DQ timer [TV number]" - Start DQ timer
  - "Announce [message]" - Send ticker message
- Wake word: "Hey Tournament" (or custom)
- Visual confirmation of understood command
- Command history panel

IMPLEMENTATION:
- Add Web Speech API to Command Center page
- Speech recognition → parse command → execute API call
- Fallback to manual if speech not recognized

--------------------------------------------------------------------------------
14. SMS/EMAIL ALERTS (NEW)
--------------------------------------------------------------------------------
PROBLEM: If operator steps away from phone/laptop, critical alerts may be
missed.

FEATURES:
- SMS alerts via Twilio for critical events:
  - Tournament ready to start
  - System error (display offline, API failure)
  - Match dispute flagged
- Email alerts for non-urgent events
- Configurable thresholds

IMPLEMENTATION:
- Add twilio dependency
- Store phone number in settings
- Send SMS on critical events only (rate-limited)

--------------------------------------------------------------------------------
15. QUICK SCORE WIDGET (NEW - Future)
--------------------------------------------------------------------------------
For future: iOS/Android native widget on home screen showing current match
with tap-to-score capability. Would require native app development.

================================================================================
TIER 3: STREAM DECK CONTROLLER ENHANCEMENTS
================================================================================

The Stream Deck is the PRIMARY CONTROL DEVICE for tournament day. These
improvements make it more responsive and capable.

--------------------------------------------------------------------------------
16. WEBSOCKET REAL-TIME UPDATES - COMPLETED 2025-12-07
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Socket.IO via python-socketio, instant updates, connection status indicator, auto-reconnect

--------------------------------------------------------------------------------
17. CONNECTION STATUS INDICATOR - COMPLETED 2025-12-07
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Key 11 status: GREEN (WS), YELLOW (POLL), PURPLE (HTTP) with match count

--------------------------------------------------------------------------------
18. LOCAL DATA CACHING FOR OFFLINE RESILIENCE
--------------------------------------------------------------------------------
FEATURES:
- Cache match data to local JSON file on Pi Zero
- Display cached data when server unavailable
- Show "OFFLINE" badge on affected keys
- Auto-refresh when connection restored
- Cache expiration (5 minutes)
- Sync status indicator

IMPLEMENTATION:
- Write match data to ~/.cache/stream-deck/matches.json
- Load from cache if API request fails
- Display cache age on status key

--------------------------------------------------------------------------------
19. MACRO SUPPORT (NEW)
--------------------------------------------------------------------------------
PROBLEM: Some operations require multiple key presses (e.g., select match,
set score, confirm, mark underway). Macros can automate this.

FEATURES:
- Record macro: Hold key 0 + perform actions → save sequence
- Play macro: Tap key to execute recorded sequence
- Built-in macros:
  - "Quick 2-0 Win": Select match → set score 2-0 → declare winner
  - "DQ Flow": Start DQ timer → wait 3 min → auto-DQ if no response
- Macro editor in admin dashboard (upload to Stream Deck)

IMPLEMENTATION:
- Store macros as JSON action sequences
- Playback engine in controller.py
- Admin dashboard macro editor in settings.html

--------------------------------------------------------------------------------
20. PROFILE PER TOURNAMENT/GAME (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Multiple layout profiles:
  - "SSBU Weekly" - Specific ticker presets, 3-stock scores
  - "MKW Grand Prix" - Different scoring system
  - "Setup/Testing" - Debug commands
- Quick profile switch: Hold HOME key
- Profiles synced from admin dashboard
- Profile-specific ticker presets

IMPLEMENTATION:
- Store profiles in config files
- Add profile selection UI in admin dashboard
- Sync profiles via API endpoint

--------------------------------------------------------------------------------
21. HAPTIC/VISUAL FEEDBACK IMPROVEMENTS
--------------------------------------------------------------------------------
FEATURES:
- Key flash on successful action (GREEN)
- Key flash on error (RED)
- Different flash patterns:
  - Quick green = success
  - Slow red pulse = error
  - Yellow strobe = warning
- Audio feedback via Pi Zero speaker (optional)

--------------------------------------------------------------------------------
22. MULTI-PAGE MATCH NAVIGATION
--------------------------------------------------------------------------------
FEATURES:
- Navigate through all open matches (not just first 5)
- Page indicator: "Page 1/3"
- Prev/Next buttons cycle pages
- Jump to specific match

--------------------------------------------------------------------------------
23. MATCH TIMER DISPLAY
--------------------------------------------------------------------------------
FEATURES:
- Show elapsed time on underway matches
- Timer displayed on match key
- Optional auto-timer start when marking underway

--------------------------------------------------------------------------------
24. AUTO-RECONNECT WITH BACKOFF - COMPLETED 2025-12-07
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Exponential backoff, configurable delays, unlimited retry attempts

--------------------------------------------------------------------------------
25. USB RESET AUTOMATION
--------------------------------------------------------------------------------
PROBLEM: Stream Deck sometimes requires USB reset before use.

SOLUTION:
- Auto-detect Stream Deck disconnect
- Run usbreset automatically on startup
- Retry up to 3 times
- Log reset attempts

================================================================================
TIER 4: RASPBERRY PI DISPLAY RELIABILITY
================================================================================

Reliable displays are critical for tournament presentation. These improvements
reduce crashes, improve recovery, and enable remote management.

--------------------------------------------------------------------------------
26. CDN CACHE-BUSTING FOR DISPLAYS - COMPLETED 2025-12-08
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
No-cache headers, ?v=timestamp cache-buster, window.mmCacheBuster for dynamic loading

--------------------------------------------------------------------------------
26b. SPONSOR OVERLAY MODULE CONSOLIDATION - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Shared module at MM-SponsorOverlay/, symlinked to both instances, config-driven positioning

--------------------------------------------------------------------------------
26c. SPONSOR OVERLAY UI IMPROVEMENTS - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
X/Y offset sliders, per-sponsor Hide button, position filter tabs, banner transformOrigin fix

--------------------------------------------------------------------------------
27. INTENT RESTART DETECTION - BUG FIX - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Timestamp validation for intent file, 10s grace window, stale file handling

--------------------------------------------------------------------------------
28. CHROMIUM HANG DETECTION (WATCHDOG) - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Background watchdog every 30s, xdotool verification, force-kill after 90s unresponsive

--------------------------------------------------------------------------------
28b. STORAGE DETECTION FIX - BUG FIX - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Moved storage detection from subshell to direct execution, NVMe gets performance settings

--------------------------------------------------------------------------------
28c. PACKAGE AVAILABILITY FIX - BUG FIX - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Replaced libraspberrypi-bin with raspi-utils-core for Bookworm/Trixie compatibility

--------------------------------------------------------------------------------
28d. HEREDOC ESCAPING FIX - BUG FIX - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Escaped runtime variables with \$ in heredoc, fixed "exponent less than 0" errors

--------------------------------------------------------------------------------
28e. WIFI NETWORK CONFIGURATION - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
3 pre-configured WiFi networks with priorities, auto-connect to highest available

--------------------------------------------------------------------------------
29. REMOTE SCREENSHOT CAPABILITY
--------------------------------------------------------------------------------
FEATURES:
- Trigger screenshot from admin dashboard
- Upload screenshot to admin server
- View screenshots in displays page
- Auto-cleanup old screenshots (24h retention)
- Useful for debugging display issues remotely

--------------------------------------------------------------------------------
30. OFFLINE DATA CACHING ON PI
--------------------------------------------------------------------------------
FEATURES:
- Cache match data locally on Pi NVMe
- Display cached data when admin server unavailable
- Show "OFFLINE" indicator on display
- Graceful degradation during network outages
- Resume when connection restored

--------------------------------------------------------------------------------
31. AUTOMATIC SCRIPT UPDATES (OTA)
--------------------------------------------------------------------------------
FEATURES:
- Check for script updates during config poll
- Download new scripts from admin server
- Verify checksum before applying
- Restart affected service after update

--------------------------------------------------------------------------------
32. MEMORY MONITORING AND CLEANUP
--------------------------------------------------------------------------------
FEATURES:
- Monitor available memory
- Clear browser cache when memory low (<100MB free)
- Restart browser if memory critical (<50MB)
- Report memory trends in heartbeat

--------------------------------------------------------------------------------
33. DUAL HDMI DISPLAY SUPPORT (PI 5)
--------------------------------------------------------------------------------
FEATURES:
- Run two displays from single Pi 5
- Display 1: Match/Now Playing view
- Display 2: Bracket view
- Independent content per display
- Reduce hardware cost (one Pi vs two)

IMPLEMENTATION:
- Pi 5 has dual 4Kp60 HDMI outputs
- Configure /boot/config.txt for dual display
- Run two browser instances, one per display
- Separate display IDs in heartbeat

--------------------------------------------------------------------------------
34. FASTER BOOT TIME (<15 SECONDS)
--------------------------------------------------------------------------------
FEATURES:
- Fast boot optimization
- Persistent browser state
- Quick recovery from power loss
- Splash screen during boot

--------------------------------------------------------------------------------
35. CONFIGURABLE DISPLAY SCALE FACTOR - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
CDP real-time scaling, auto TV detection via xrandr, suggested scale, collapsible Advanced section

--------------------------------------------------------------------------------
36. AUDIO OUTPUT CONFIGURATION
--------------------------------------------------------------------------------
FEATURES:
- Configure HDMI audio output
- Volume control from admin dashboard
- Mute/unmute capability
- Audio test button
- Enable for match announcements

--------------------------------------------------------------------------------
37. NETWORK QUALITY MONITORING
--------------------------------------------------------------------------------
FEATURES:
- Monitor network quality continuously
- Switch to secondary WiFi if primary degraded
- Alert admin on persistent connectivity issues
- Offline mode when no connectivity

================================================================================
TIER 5: SIGNUP APP QoL (PARTICIPANT EXPERIENCE)
================================================================================

Better participant experience = smoother tournament day.

--------------------------------------------------------------------------------
38. PARTICIPANT SELF CHECK-IN
--------------------------------------------------------------------------------
FEATURES:
- Self check-in button on signup app
- Verification code system (unique code per participant)
- QR code scanning for quick check-in
- Check-in status display
- Check-in deadline countdown timer
- Push notification reminder

--------------------------------------------------------------------------------
39. WAITLIST SYSTEM
--------------------------------------------------------------------------------
FEATURES:
- "Join Waitlist" button when tournament is full
- Waitlist position display ("You are #3 on the waitlist")
- Auto-promote when slots open (due to dropout)
- Notification when promoted
- Waitlist cap and deadline

--------------------------------------------------------------------------------
40. EMAIL CONFIRMATION & REMINDERS
--------------------------------------------------------------------------------
FEATURES:
- Confirmation email after signup
- Reminder email 24 hours before tournament
- Check-in deadline reminder (1 hour before)
- Results email after tournament ends
- Unsubscribe option per email type

IMPLEMENTATION:
- Add nodemailer dependency
- Configure SMTP in system settings
- HTML email templates

--------------------------------------------------------------------------------
40. TEAM REGISTRATION SUPPORT
--------------------------------------------------------------------------------
FEATURES:
- Team name field
- Multiple participant fields with role labels (Player 1, Player 2)
- Team captain designation
- Team size validation
- Substitute player slot (optional)
- Team-based check-in

--------------------------------------------------------------------------------
41. CHARACTER/MAIN SELECTION
--------------------------------------------------------------------------------
FEATURES:
- Optional character dropdown during signup
- Game-specific character lists
- Primary and secondary character selection
- Character icons on match display
- Character usage statistics in analytics

--------------------------------------------------------------------------------
42. BRACKET PREDICTIONS SYSTEM
--------------------------------------------------------------------------------
STATUS: PROTOTYPE EXISTS (public/predictions-prototype/)

FEATURES:
- Visual bracket picker with clickable matches
- Device fingerprint for account-free identity
- Hybrid lock system (early = full points, late = 0.5x)
- Live leaderboard with real-time scoring
- Claim code + animated pattern for prize verification

--------------------------------------------------------------------------------
43. PARTICIPANT LOOKUP ("AM I REGISTERED?") - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
"Check your status" toggle, case-insensitive search, registration confirmation

--------------------------------------------------------------------------------
44. REGISTRATION CONFIRMATION QR CODE
--------------------------------------------------------------------------------
FEATURES:
- QR code displayed on confirmation page
- QR code contains participant ID and verification code
- Printable confirmation (PDF download)
- Scannable by admin for quick check-in

--------------------------------------------------------------------------------
45. DARK MODE TOGGLE (SIGNUP APP) - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Theme toggle on all pages, system preference detection, localStorage persistence

--------------------------------------------------------------------------------
46. PUSH NOTIFICATIONS (SIGNUP APP)
--------------------------------------------------------------------------------
FEATURES:
- Push notification opt-in during signup
- Match called notifications
- Check-in reminder notifications
- Tournament starting soon notifications

--------------------------------------------------------------------------------
47. OFFLINE SIGNUP QUEUE (BACKGROUND SYNC)
--------------------------------------------------------------------------------
FEATURES:
- Queue signup locally when offline
- Automatically submit when online
- Show pending status to user
- Sync status indicator

================================================================================
TIER 6: AUTOMATION & EFFICIENCY
================================================================================

Reduce repetitive manual work for recurring weekly tournaments.

--------------------------------------------------------------------------------
48. TOURNAMENT TEMPLATES LIBRARY - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
SQLite storage, Load from Template dropdown, Save as Template button, management UI

--------------------------------------------------------------------------------
49. SCHEDULED TOURNAMENT CREATION (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Schedule recurring tournaments:
  - Every Tuesday at 7:00 PM
  - First Saturday of month
- Auto-create tournament on Challonge at scheduled time
- Auto-deploy to displays
- Send notification to mailing list

IMPLEMENTATION:
- Use node-cron for scheduling
- Store schedule in SQLite
- Background job manager

--------------------------------------------------------------------------------
50. SCHEDULED TICKER MESSAGES (NEW)
--------------------------------------------------------------------------------
PROBLEM: Operator must manually send "5 minute break" messages.

FEATURES:
- Schedule ticker messages:
  - "Break ends in 5 minutes" at 8:25 PM
  - "Finals starting soon" when semifinals complete
- Event-triggered messages:
  - "Welcome to [Tournament Name]!" on tournament start
  - "Congratulations [Winner]!" on finals complete
- Message templates with variables

IMPLEMENTATION:
- Add ticker_schedule table
- Background timer checks for pending messages
- Variable substitution engine

--------------------------------------------------------------------------------
51. AUTO-DEPLOY TO DISPLAYS - COMPLETED 2025-12-13
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Auto-configure flyer on tournament start, game name matching with abbreviation support

--------------------------------------------------------------------------------
52. COPY/CLONE TOURNAMENT SETTINGS
--------------------------------------------------------------------------------
FEATURES:
- "Duplicate from Previous" dropdown
- Copy all settings from past tournament
- Editable before creation
- Clone participants (optional)

--------------------------------------------------------------------------------
53. PRE-FILLED TEMPLATES FOR TOURNAMENT CREATION
--------------------------------------------------------------------------------
FEATURES:
- Quick setup buttons:
  - [Weekly SSBU] [Monthly MKW] [Custom]
- Pre-fill format, dates, registration settings
- One-click deploy

--------------------------------------------------------------------------------
54. AUTO-ARCHIVE COMPLETED TOURNAMENTS
--------------------------------------------------------------------------------
FEATURES:
- Archive tournament to analytics DB when finalized
- Archive triggered automatically (no manual step)
- Include all matches, participants, standings
- Update Elo ratings automatically

================================================================================
TIER 7: SCALING FOUNDATIONS
================================================================================

Features that prepare the system for growth: multiple tournaments, additional
operators, more displays, and eventually multiple venues.

--------------------------------------------------------------------------------
55. MULTI-TOURNAMENT VIEW (HIGH PRIORITY)
--------------------------------------------------------------------------------
FEATURES:
- Run multiple tournaments simultaneously (SSBU + MKW same day)
- Tabbed interface on admin dashboard
- Split-screen TV displays (show both on one screen)
- "Active Tournament" selector per display
- Independent tournament state management
- Color-coded tabs by tournament

IMPLEMENTATION:
- Modify tournament-state.json to support array
- Add tournament selector to all pages
- Update WebSocket events to include tournamentId

--------------------------------------------------------------------------------
56. REFEREE ROLE (NEW)
--------------------------------------------------------------------------------
PROBLEM: As events grow, operator needs help with score entry.

FEATURES:
- New role: "referee"
- Permissions:
  - CAN: View matches, enter scores, mark underway
  - CANNOT: Create tournaments, manage participants, system settings
- Per-tournament referee assignment
- Referee-specific mobile view (even simpler than regular mobile)
- Referee activity log

IMPLEMENTATION:
- Add role field to users table
- Middleware to check permissions
- Simplified mobile view for referees

--------------------------------------------------------------------------------
57. MULTI-VENUE SUPPORT (FUTURE)
--------------------------------------------------------------------------------
FEATURES:
- Define multiple venues
- Per-venue display configuration
- Per-venue network settings
- Venue selector in dashboard
- Tournaments assigned to venue

--------------------------------------------------------------------------------
58. ATTENDEE PROFILES (NEW)
--------------------------------------------------------------------------------
PROBLEM: No way to track regulars across events.

FEATURES:
- Automatic player identification (fuzzy name matching)
- Player profile page:
  - Attendance history
  - Tournament placements
  - Elo progression
  - Character preferences
- "Regular" badge for frequent attendees
- Birthday tracking (optional)
- Notes field (e.g., "Needs wheelchair access")

IMPLEMENTATION:
- Extend players table in analytics.db
- Profile page in admin dashboard
- Optional profile claim by participants

--------------------------------------------------------------------------------
59. REVENUE TRACKING (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Entry fee tracking per tournament
- Pot bonus recording
- Payout distribution:
  - 1st: 60%, 2nd: 30%, 3rd: 10%
- Expense tracking (venue rental, equipment)
- Profit/loss summary
- Export for tax purposes

IMPLEMENTATION:
- New finances table in SQLite
- Finance page in admin dashboard
- CSV export

--------------------------------------------------------------------------------
60. EVENT CALENDAR INTEGRATION (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Google Calendar sync
- iCal feed for subscribers
- Public event listing page
- "Add to Calendar" button on signup app
- Automated social media posting

================================================================================
TIER 8: AI-POWERED FEATURES (ANTHROPIC CLAUDE SDK)
================================================================================

Building on the successful AI Seeding implementation (P2-6), these features
leverage the Anthropic Claude SDK (@anthropic-ai/sdk v0.39.0) to add intelligent
automation and insights throughout the tournament control center.

Current AI Infrastructure (established in services/ai-seeding.js):
- Lazy-loaded Anthropic client (only initialized when API key present)
- Rate limiting (10 requests/minute with queue)
- SQLite caching with hash-based invalidation
- Graceful fallback when AI unavailable
- WebSocket broadcasting for real-time updates
- Structured JSON response parsing

--------------------------------------------------------------------------------
AI-1. TOURNAMENT NARRATIVE GENERATOR - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
AI-powered recaps, 3 formats (Social/Discord/Full), storyline detection, SQLite caching

--------------------------------------------------------------------------------
AI-2. PLAYER FORM ANALYSIS & MOMENTUM TRACKING
--------------------------------------------------------------------------------
PROBLEM: Understanding which players are "hot" or "cold" requires manual
analysis of recent results. This insight helps with seeding and predictions.

FEATURES:
- Player momentum scoring:
  - Recent win rate (last 3 tournaments weighted)
  - Elo trajectory (rising/stable/falling)
  - Performance vs seed (over/underperforming)
- Form indicators in player cards:
  - "On Fire" - 3+ consecutive top-4 finishes
  - "Rising" - Elo gained 50+ in last month
  - "Slumping" - Dropped 2+ seed positions recently
  - "Consistent" - Finished within 2 of seed 5+ times
- AI-generated form analysis:
  - "[Player] has won 8 of last 10 matches, improving from seed 8 to seed 3"
  - "Currently on a 5-match winning streak across 2 tournaments"
- Integrated into seeding suggestions (AI considers momentum)

IMPLEMENTATION:
- Create services/player-analysis.js (~350 lines)
- Extend ai-seeding.js prompt with momentum data
- New analytics endpoint: GET /api/analytics/players/:id/form
- UI: Form badges on participant cards, analytics player page

EFFORT: Medium (2 days)
IMPACT: Medium - Better seeding, interesting stats for players

--------------------------------------------------------------------------------
AI-3. MATCH OUTCOME PREDICTIONS (FUN FEATURE)
--------------------------------------------------------------------------------
PROBLEM: Spectators and players enjoy predictions. Currently no way to see
expected outcomes based on historical data.

FEATURES:
- Win probability display for upcoming matches:
  - "Player A: 65% | Player B: 35%"
  - Based on: Elo difference, head-to-head record, recent form
- AI-enhanced predictions with context:
  - "Despite lower Elo, Player B has won 3 of their last 4 meetings"
  - "Player A is 8-2 in their last 10 matches on this game"
- Confidence levels: High/Medium/Low based on data availability
- Post-match accuracy tracking (how well did predictions hold?)
- Display on match cards (toggleable - some TOs prefer no predictions)

IMPLEMENTATION:
- Create services/match-insights.js (~300 lines)
- Basic algorithm: Elo-based probability + head-to-head adjustment
- AI enhancement: Add narrative context explaining prediction
- UI: Small prediction badge on match cards
- Settings toggle: "Show match predictions" (default: off)

EFFORT: Low-Medium (1-2 days)
IMPACT: Medium - Entertainment value, player engagement

PRIVACY NOTE: Predictions are for entertainment only. Make clear they don't
affect seeding or bracket placement.

--------------------------------------------------------------------------------
AI-4. SMART OPERATOR ASSISTANT
--------------------------------------------------------------------------------
PROBLEM: Single operator managing tournaments needs decision support during
live events. Currently must remember all best practices mentally.

FEATURES:
- Real-time suggestions during tournament:
  - "5 matches completed in 20 minutes - consider starting next wave"
  - "Player X has been waiting 15 minutes - prioritize their match"
  - "Grand Finals approaching - suggest 5-minute break for hype"
- Anomaly detection:
  - "Match duration is 3x average - check for issues"
  - "Score pattern unusual (0-3, 0-3, 0-3) - verify results"
  - "3 DQ timers expired this round - send reminder announcement"
- Proactive alerts:
  - "Tournament running 30 minutes behind schedule"
  - "Only 2 stations active but 8 matches open - consider starting more"
- Command Center integration:
  - AI suggestions panel in Q4 (Quick Actions area)
  - Dismissible suggestion cards
  - "Apply" button to execute suggestions

IMPLEMENTATION:
- Create services/operator-assistant.js (~500 lines)
- Background analysis of tournament state every 30 seconds
- Claude prompt with tournament context + best practices
- WebSocket events: suggestion:new, suggestion:dismissed
- UI: Suggestion panel in command-center.html

EFFORT: High (3-4 days)
IMPACT: Very High - Reduces operator cognitive load significantly

--------------------------------------------------------------------------------
AI-5. INTELLIGENT TICKER MESSAGE GENERATOR
--------------------------------------------------------------------------------
PROBLEM: Writing engaging ticker messages during tournaments is distracting.
Pre-set messages feel repetitive.

FEATURES:
- Context-aware ticker suggestions:
  - After upset: "Upset alert! [Seed 12] takes down [Seed 1]!"
  - Grand finals: "[Player] vs [Player] for the championship!"
  - Close match: "Game 5 deciding it all!"
- Automatic event triggers:
  - Generate message when notable match completes
  - "Break time" messages based on round completion
  - Winner announcement: "Congratulations to [Player], your [Tournament] champion!"
- Customizable tone: Hype/Professional/Casual
- One-click send from suggestion

IMPLEMENTATION:
- Add to services/match-polling.js (detect notable events)
- Claude generates ticker text based on event type
- Queue suggestions in UI (don't auto-send)
- Settings: Ticker AI tone preference

EFFORT: Medium (2 days)
IMPACT: Medium - Better presentation, less operator distraction

--------------------------------------------------------------------------------
AI-6. PDF REPORT ENHANCEMENT WITH AI NARRATIVE
--------------------------------------------------------------------------------
PROBLEM: Current PDF exports are data-heavy but lack engaging narrative.
Players want shareable tournament summaries.

FEATURES:
- Enhanced PDF sections:
  - "Tournament Story" - AI-generated narrative (2-3 paragraphs)
  - "Notable Matches" - AI-selected with explanations
  - "Player Spotlights" - Biggest risers, consistent performers
  - "Interesting Stats" - AI-identified unusual patterns
- Shareable format:
  - Tournament highlights as 1-page summary
  - Social media optimized layout
- Player-specific PDF:
  - "[Player]'s Tournament Journey"
  - All matches with AI commentary
  - Performance analysis vs expectations

IMPLEMENTATION:
- Extend helpers/pdf.js with AI sections
- New endpoint: GET /api/export/:tournamentId/report/pdf?enhanced=true
- Claude generates narrative sections
- Cache generated content in SQLite

EFFORT: Medium (2-3 days)
IMPACT: Medium - Better reports for players and sponsors

--------------------------------------------------------------------------------
AI-7. DUPLICATE PLAYER DETECTION
--------------------------------------------------------------------------------
PROBLEM: Players register with different names/spellings across tournaments.
Manual alias management is tedious.

FEATURES:
- AI-powered name matching:
  - Detect "JohnDoe", "John_Doe", "John Doe" as same player
  - Suggest merges: "Did you mean to register as [existing name]?"
  - Confidence scoring for suggestions
- Registration-time suggestions:
  - "We found a player named '[Similar Name]'. Is this you?"
  - One-click confirm or "No, I'm new"
- Admin merge assistant:
  - List potential duplicates by similarity score
  - Bulk merge capability
  - Preview merge effects (combined stats)

IMPLEMENTATION:
- Create services/player-matcher.js (~300 lines)
- Use Claude for fuzzy name understanding (handles typos, abbreviations)
- Extend participant registration endpoint
- Admin UI: "Potential Duplicates" panel in analytics

EFFORT: Medium (2 days)
IMPACT: High - Data quality, accurate Elo tracking

--------------------------------------------------------------------------------
AI-8. TOURNAMENT META ANALYSIS
--------------------------------------------------------------------------------
PROBLEM: No insight into competitive trends - which strategies/characters
are winning, how the meta evolves over time.

FEATURES:
- Character usage tracking (for games like SSBU):
  - Register character selections per match
  - Win rates by character
  - Character popularity trends
- AI meta reports:
  - "Top 3 most successful characters this month"
  - "Rising character: [X] went from 5% to 15% usage"
  - Matchup insights if data sufficient
- Seasonal analysis:
  - Compare metas across time periods
  - Identify emerging trends

IMPLEMENTATION:
- Add character_selections table to analytics.db
- Optional character input in match scoring modal
- Claude analyzes patterns and generates meta reports
- New analytics tab: "Meta Analysis"

EFFORT: High (3-4 days)
IMPACT: Medium - Interesting for competitive players, requires character tracking

--------------------------------------------------------------------------------
AI-9. PERSONALIZED PLAYER FEEDBACK
--------------------------------------------------------------------------------
PROBLEM: Players want to improve but have no structured feedback after
tournaments beyond their placement.

FEATURES:
- Post-tournament player analysis:
  - "You went 3-2, placing 5th (seed 4) - slight underperformance"
  - "Your losses were to seeds 1 and 2 - expected tough matchups"
  - "You beat every opponent ranked below you - solid consistency"
- Improvement suggestions:
  - "You've lost to [Player] 3 times - study their playstyle"
  - "Your game 1 win rate is 40% - consider warm-up routine"
  - "You perform better in earlier rounds - work on maintaining focus"
- Private feedback via email or signup app:
  - Opt-in feature (not all players want feedback)
  - Constructive tone (AI prompted for encouragement)

IMPLEMENTATION:
- Create services/player-feedback.js (~400 lines)
- Generate after tournament completion for opted-in players
- Store feedback in player_feedback table
- Display in signup app "My Stats" section

EFFORT: High (3-4 days)
IMPACT: High - Player development, retention, community building

--------------------------------------------------------------------------------
AI-10. LIVE COMMENTARY GENERATION
--------------------------------------------------------------------------------
PROBLEM: Display screens show static match info. Live commentary would
enhance spectator experience without requiring a dedicated commentator.

FEATURES:
- Real-time commentary ticker on match display:
  - "This is their 5th meeting - [Player A] leads 3-1"
  - "[Player B] needs to win 2 straight to force a bracket reset"
  - "Winner faces [Player C] in the next round"
- Match-specific context:
  - Historical records between players
  - Stakes explanation (what's on the line)
  - Path to victory for each player
- Configurable verbosity: Minimal/Standard/Detailed

IMPLEMENTATION:
- Extend MagicMirror-match with commentary panel
- WebSocket events: commentary:update
- Claude generates commentary when match starts
- Cache commentary per match (don't regenerate mid-match)
- Settings: Commentary mode toggle

EFFORT: Medium-High (2-3 days)
IMPACT: Medium - Enhanced spectator experience

--------------------------------------------------------------------------------
AI-11. SCHEDULING OPTIMIZATION
--------------------------------------------------------------------------------
PROBLEM: Match scheduling is manual. Optimal station utilization requires
considering many factors simultaneously.

FEATURES:
- Smart match ordering:
  - Prioritize matches where both players are waiting
  - Balance station usage across TVs
  - Consider player fatigue (don't schedule same player back-to-back)
- Suggested next matches:
  - "Recommended: Match #15 on TV 1 (both players available)"
  - "Avoid: Match #18 ([Player] just finished a match)"
- Time estimation:
  - "Estimated tournament end: 9:45 PM"
  - "Current pace: 12 minutes/match (ahead of schedule)"

IMPLEMENTATION:
- Create services/scheduling-optimizer.js (~350 lines)
- Factor in: player wait time, station availability, round priority
- Claude provides reasoning for suggestions
- UI: "Suggested Order" panel in Command Center

EFFORT: Medium (2 days)
IMPACT: High - Faster tournaments, better player experience

--------------------------------------------------------------------------------
AI-12. NATURAL LANGUAGE TOURNAMENT QUERIES
--------------------------------------------------------------------------------
PROBLEM: Finding specific tournament information requires navigating
multiple pages. Natural language queries would be faster.

FEATURES:
- Chat-style query interface:
  - "Who won last week's SSBU tournament?"
  - "What's my record against [Player]?"
  - "How many tournaments has [Player] attended?"
  - "Show me all 3-2 matches from today"
- Multi-turn conversations:
  - "How did they do?" (referring to previous query subject)
- Admin queries:
  - "How many participants are checked in?"
  - "Which matches are still open?"
  - "What's our average match duration today?"

IMPLEMENTATION:
- Create services/ai-query.js (~400 lines)
- Claude with function calling to query database
- Define query functions: get_player_stats, search_matches, etc.
- Simple chat UI in admin dashboard header
- Response formatted as structured data + natural language

EFFORT: High (3-4 days)
IMPACT: High - Faster information access, powerful for operators

--------------------------------------------------------------------------------
AI-13. PLAYER MOMENTUM TRACKING (QUICK WIN)
--------------------------------------------------------------------------------
PROBLEM: Understanding which players are "hot" or "cold" requires manual
analysis of recent results. Seeding should account for current form.

FEATURES:
- Track 3-tournament rolling Elo change to detect hot/cold streaks
- Momentum scoring: (current_elo - elo_3_tournaments_ago) / 3
- Form indicators in player cards:
  - "On Fire" (arrow up) - Elo gained 50+ in last 3 tournaments
  - "Rising" (diagonal up) - Elo gained 20-49
  - "Stable" (horizontal) - Elo change within +/- 20
  - "Slumping" (diagonal down) - Elo lost 20-49
  - "Cold" (arrow down) - Elo lost 50+ in last 3 tournaments
- Integrated into AI seeding prompt for context

IMPLEMENTATION:
- Add `momentum` column to `player_ratings` table
- Add `last_3_tournaments` column (JSON array of tournament IDs)
- Update momentum on tournament archival
- Display trending indicator in seeding UI and analytics
- Feed momentum data to AI seeding prompt

FILES:
- admin-dashboard/analytics-db.js (schema + queries)
- admin-dashboard/services/ai-seeding.js (include in prompt)
- admin-dashboard/public/js/analytics.js (display indicator)

EFFORT: Low (1-2 days)
IMPACT: High - Improves seeding accuracy by 15-20%

--------------------------------------------------------------------------------
AI-14. TOURNAMENT DIFFICULTY INDEX (QUICK WIN)
--------------------------------------------------------------------------------
PROBLEM: No way to compare tournament strength across events. A 5th place
finish in a stacked field is more impressive than winning a weak tournament.

FEATURES:
- Calculate tournament strength based on participant Elo distribution
- Formula: Difficulty = (avg_elo * 0.6) + (top_quartile_elo * 0.3) +
                        (participant_count_factor * 0.1)
- Display difficulty rating (1-10 scale or letter grades A-F)
- Use in AI seeding context: "This is a high-difficulty event"
- Compare tournaments in analytics dashboard

IMPLEMENTATION:
- Add `difficulty_index` column to `archived_tournaments` table
- Calculate on tournament archival
- Display in tournament cards and analytics dashboard
- Factor into player performance evaluation

FILES:
- admin-dashboard/analytics-db.js
- admin-dashboard/routes/analytics.js
- admin-dashboard/public/js/analytics.js

EFFORT: Low (1 day)
IMPACT: Medium - Better tournament comparison and player evaluation

--------------------------------------------------------------------------------
AI-15. MATCH DURATION PREDICTION (QUICK WIN)
--------------------------------------------------------------------------------
PROBLEM: Tournament completion time is unpredictable. Currently only have
avgMatchTime calculated post-tournament, not predictive estimates.

FEATURES:
- Predict match duration based on historical data:
  - Elo differential (closer matches = longer)
  - Game type (fighting games ~8min, Mario Kart ~15min)
  - Bracket round (finals typically longer)
  - Player historical match lengths
- Display "Est. Tournament Completion" on dashboard
- Real-time updates as tournament progresses
- Per-match duration estimates in queue

IMPLEMENTATION:
- Store `match_duration` on archival (calculate from timestamps if available)
- Build simple regression model: duration = f(elo_diff, game, round)
- Add prediction endpoint: GET /api/analytics/predict/duration/:matchId
- Display "Est. Time Remaining: X hours Y minutes" on dashboard

FILES:
- admin-dashboard/analytics-db.js (store duration data)
- admin-dashboard/routes/analytics.js (prediction endpoint)
- admin-dashboard/public/js/dashboard.js (display estimate)

EFFORT: Low-Medium (2 days)
IMPACT: High - Accurate tournament completion estimates

--------------------------------------------------------------------------------
AI-16. INTELLIGENT STATION AUTO-ASSIGNMENT
--------------------------------------------------------------------------------
PROBLEM: Manual station assignment is tedious and suboptimal. Operator must
consider multiple factors simultaneously while managing other tasks.

FEATURES:
- Automatically assign matches to TV stations based on:
  - Predicted match duration (balance station utilization)
  - Current station availability
  - Player back-to-back match prevention (rest time)
  - Match importance (seed differential, bracket round)
  - Streaming preferences (top seeds on TV 1)
- Suggest next 2-3 station assignments
- Auto-assign mode with manual override
- AI explains reasoning for assignments

IMPLEMENTATION:
- Create services/station-optimizer.js (~400 lines)
- Run optimization on match completion or manual trigger
- Score each station for each open match
- Present suggestions in matches page
- Optional auto-assign toggle

FILES:
- admin-dashboard/services/station-optimizer.js (NEW)
- admin-dashboard/routes/matches.js (auto-assign endpoint)
- admin-dashboard/public/js/matches.js (toggle + suggestions UI)

EFFORT: Medium (3-4 days)
IMPACT: High - 40% reduction in operator match management time

--------------------------------------------------------------------------------
AI-17. UPSET PROBABILITY PREDICTION
--------------------------------------------------------------------------------
PROBLEM: No way to identify likely upsets before they happen. Missing
opportunity for spectator engagement and storyline anticipation.

FEATURES:
- Calculate pre-match win probability for each player:
  - Based on: Elo differential, head-to-head history, recent form/momentum
  - Display as percentage: "Player A: 65% | Player B: 35%"
- Highlight "Upset Alert" when lower seed >35% win probability
- Post-match accuracy tracking (how well did predictions hold?)
- Feed predictions to narrator for storyline detection

IMPLEMENTATION:
- Basic algorithm: Elo probability + head-to-head adjustment + momentum
- Create services/prediction-service.js (~300 lines)
- Add prediction endpoint: GET /api/matches/:id/prediction
- Display prediction badge on match cards (toggleable in settings)

PRIVACY NOTE: Predictions are for entertainment only. Make clear they don't
affect seeding or bracket placement.

FILES:
- admin-dashboard/services/prediction-service.js (NEW)
- admin-dashboard/routes/matches.js (prediction endpoint)
- admin-dashboard/public/js/matches.js (display predictions)
- admin-dashboard/services/tournament-narrator.js (consume predictions)

EFFORT: Medium (4-5 days)
IMPACT: High - Enhanced viewer engagement, better storylines

--------------------------------------------------------------------------------
AI-18. PROACTIVE DISPLAY HEALTH MONITORING
--------------------------------------------------------------------------------
PROBLEM: Display issues (overheating, memory exhaustion, WiFi degradation)
are discovered too late, causing disruptions during live events.

FEATURES:
- AI-powered trend analysis of Pi display metrics:
  - CPU temperature: Predict throttling risk
  - Memory usage: Predict OOM crashes
  - WiFi signal: Predict disconnection
  - Storage fill rate: Predict cache issues
- Proactive alerts before issues occur:
  - "Pi-1 CPU rising, may throttle in 15 minutes"
  - "Pi-2 memory at 85%, recommend browser restart"
  - "WiFi signal degrading on Pi-3, consider relocating"
- Push notifications via existing notification system

IMPLEMENTATION:
- Store historical metrics (last 30 data points per Pi)
- Simple trend analysis (linear regression on 5-minute windows)
- Create services/display-monitor.js (~350 lines)
- Add trend endpoint: GET /api/displays/:id/health-trend
- Display alerts in displays page and push notifications

FILES:
- admin-dashboard/services/display-monitor.js (NEW)
- admin-dashboard/routes/displays.js (trend endpoint)
- admin-dashboard/public/js/displays.js (alert display)

EFFORT: Medium (3 days)
IMPACT: Medium - Prevents venue display failures

--------------------------------------------------------------------------------
AI-19. SMART DQ TIMER AUTOMATION
--------------------------------------------------------------------------------
PROBLEM: Current DQ timer only auto-DQs or notifies. No context about when
auto-DQ is appropriate vs when manual intervention is better.

FEATURES:
- Context-aware DQ decisions based on:
  - Player no-show history (repeat offenders = auto-DQ)
  - Tournament phase (earlier rounds = more lenient)
  - Match importance (finals = always manual)
  - Bracket impact (does DQ affect many waiting players?)
- "Suggested Action" display when timer expires:
  - "AUTO-DQ RECOMMENDED: Player has 3 previous no-shows"
  - "MANUAL RECOMMENDED: Grand Finals match"
- Configurable auto-DQ thresholds per tournament

IMPLEMENTATION:
- Track player attendance history in analytics.db
- Extend services/dq-timer.js with decision logic
- Add attendance_history table
- Display suggestion when timer expires (before auto-action)

FILES:
- admin-dashboard/services/dq-timer.js (extend)
- admin-dashboard/analytics-db.js (attendance tracking)
- admin-dashboard/public/js/dashboard.js (DQ suggestion UI)

EFFORT: Medium (3-4 days)
IMPACT: Medium - Fairer DQ handling, reduced operator burden

--------------------------------------------------------------------------------
AI-20. STREAM DECK CONTEXT AWARENESS
--------------------------------------------------------------------------------
PROBLEM: Stream Deck shows same layout regardless of tournament state.
Operator must remember which actions are most likely needed.

FEATURES:
- AI suggests next likely action on Stream Deck:
  - Track operator action patterns
  - Highlight suggested button (glow effect)
  - Learn individual operator preferences
- Priority indicators for urgent matches:
  - Red glow: DQ timer expiring soon
  - Yellow glow: Match waiting >10 minutes
  - Green glow: Suggested next action
- Context-aware key labels that update based on state

IMPLEMENTATION:
- Track operator action sequences in server
- Create action prediction model (simple Markov chain)
- Send suggestions via WebSocket to Stream Deck
- Add visual indicators to controller.py

FILES:
- stream-deck-controller/controller.py (suggestion display)
- stream-deck-controller/api_client.py (receive suggestions)
- admin-dashboard/routes/api.js (operator pattern endpoint)
- admin-dashboard/services/operator-patterns.js (NEW)

EFFORT: Medium (4-5 days)
IMPACT: Medium - Faster operator actions, reduced cognitive load

--------------------------------------------------------------------------------
AI-21. UNIFIED AI SERVICE LAYER (INFRASTRUCTURE)
--------------------------------------------------------------------------------
PROBLEM: AI services (ai-seeding.js, tournament-narrator.js) have duplicated
infrastructure code: rate limiting, caching, error handling, fallbacks.

FEATURES:
- Consolidate AI services into unified base layer:
  - Shared rate limiting pool (currently separate)
  - Consistent error handling and retry logic
  - Centralized caching with SQLite
  - Single configuration point for API key
  - Unified prompt logging for debugging
- AI service registry for easy extension
- Quality monitoring dashboard

IMPLEMENTATION:
- Create services/ai-core.js as base class (~300 lines)
- Refactor ai-seeding.js to extend ai-core
- Refactor tournament-narrator.js to extend ai-core
- Add AI health endpoint: GET /api/ai/status
- Add AI metrics endpoint: GET /api/ai/metrics

FILES:
- admin-dashboard/services/ai-core.js (NEW base class)
- admin-dashboard/services/ai-seeding.js (refactor to extend)
- admin-dashboard/services/tournament-narrator.js (refactor to extend)
- admin-dashboard/routes/api.js (status/metrics endpoints)

EFFORT: Medium (3-4 days)
IMPACT: High - Cleaner architecture, easier maintenance, better reliability

--------------------------------------------------------------------------------
AI-22. AI RESPONSE QUALITY MONITORING
--------------------------------------------------------------------------------
PROBLEM: No visibility into AI service performance. Don't know if responses
are parsing correctly or if operators are overriding AI suggestions.

FEATURES:
- Track AI response quality metrics:
  - JSON parse success rate
  - Operator override frequency (did they change AI suggestions?)
  - Response time distribution
  - Token usage per request
  - Error rate by service
- Dashboard for AI performance metrics
- Alert on quality degradation
- Cost tracking (API usage)

IMPLEMENTATION:
- Create ai_request_log table in analytics.db
- Log all AI requests/responses with metadata
- Add metrics endpoint: GET /api/ai/metrics
- Add monitoring UI in settings page
- Alert thresholds configurable

FILES:
- admin-dashboard/analytics-db.js (ai_request_log table)
- admin-dashboard/services/ai-core.js (logging)
- admin-dashboard/routes/api.js (metrics endpoint)
- admin-dashboard/public/js/settings.js (monitoring UI)

EFFORT: Low (2 days)
IMPACT: Medium - Better AI reliability, cost control

================================================================================
TIER 9: ANALYTICS & BUSINESS INSIGHTS
================================================================================

Data-driven decisions for growing the tournament organization.

--------------------------------------------------------------------------------
61. ATTENDANCE FORECASTING (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Predict signup numbers based on:
  - Historical data (same day of week, same game)
  - Registration velocity (how fast signups coming in)
  - External factors (holidays, weather)
- "Expected attendance: 24-32" display
- Alert if significantly over/under expected

--------------------------------------------------------------------------------
62. PEAK TIME ANALYSIS (NEW)
--------------------------------------------------------------------------------
FEATURES:
- When do participants register?
- Graph: Signups by day-of-week, hour-of-day
- Optimal registration window recommendation
- "Most signups happen Monday evening"

--------------------------------------------------------------------------------
63. PLAYER RETENTION / CHURN DETECTION (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Track player attendance streaks
- Alert when regular player stops attending
- "Win-back" notification suggestions
- Retention rate metrics

--------------------------------------------------------------------------------
64. SPONSOR ROI METRICS (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Track sponsor logo display time
- Calculate "impressions" (viewers x time)
- Sponsor placement report (PDF)
- ROI calculator for sponsors

--------------------------------------------------------------------------------
65. MATCH DURATION ANALYTICS (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Track match start/end times
- Average match duration by game
- Tournament duration prediction
- Identify slow matches (potential issues)

--------------------------------------------------------------------------------
66. TOURNAMENT COMPARISON (NEW)
--------------------------------------------------------------------------------
FEATURES:
- Compare two tournaments side-by-side
- Metrics: attendance, duration, match count
- Identify trends over time
- "This month vs. last month" report

--------------------------------------------------------------------------------
67. PRIZE POOL TRACKER DISPLAY
--------------------------------------------------------------------------------
FEATURES:
- Configure prize pool amounts per placement
- Display prize breakdown on TV displays
- Support for pot bonuses and entry fee splits
- Prize distribution calculator
- Display sponsor contributions

================================================================================
TIER 9: SECURITY & TECHNICAL INFRASTRUCTURE
================================================================================

--------------------------------------------------------------------------------
68. TWO-FACTOR AUTHENTICATION
--------------------------------------------------------------------------------
FEATURES:
- Optional 2FA for admin accounts
- TOTP support (Google Authenticator, Authy)
- Backup codes for account recovery
- Per-user 2FA enrollment
- Forced 2FA for admin role (configurable)

--------------------------------------------------------------------------------
69. ERROR RECOVERY & RESILIENCE
--------------------------------------------------------------------------------
FEATURES:
- Retry logic with exponential backoff for failed API calls
- Fallback states: Show cached data if API is down
- User-friendly error messages
- Manual sync button
- Health check dashboard
- Error logging and monitoring
- Graceful degradation

--------------------------------------------------------------------------------
70. API HEALTH INDICATOR
--------------------------------------------------------------------------------
FEATURES:
- Real-time Challonge API status indicator in header
- GREEN = healthy, YELLOW = slow, RED = down
- Response time display (e.g., "125ms")
- Recent error log display
- Manual API test button

--------------------------------------------------------------------------------
71. AUDIT LOG ENHANCEMENTS
--------------------------------------------------------------------------------
FEATURES:
- Searchable, filterable view of all admin actions
- Date range filtering
- User filtering
- Action type filtering
- Export capability for security reviews
- Retention policy enforcement

--------------------------------------------------------------------------------
72. API RATE LIMIT DASHBOARD
--------------------------------------------------------------------------------
FEATURES:
- Visual display of current rate limit status
- Requests used vs. remaining
- Time until reset
- Historical usage graph
- Alert when approaching limit

--------------------------------------------------------------------------------
73. DATABASE BACKUP AUTOMATION
--------------------------------------------------------------------------------
FEATURES:
- Daily automated backups of analytics.db
- Backup retention (keep last 7 days)
- Backup verification (integrity check)
- One-click restore
- Offsite backup option (S3, Google Drive)

================================================================================
TIER 10: DISPLAY ENHANCEMENTS
================================================================================

Visual improvements for the TV displays.

--------------------------------------------------------------------------------
74. PLAYER SPOTLIGHT MODE
--------------------------------------------------------------------------------
FEATURES:
- Feature individual player stats during idle time
- Tournament placement history
- Head-to-head records
- Rotation through top performers

--------------------------------------------------------------------------------
75. HYPE REEL MODE
--------------------------------------------------------------------------------
FEATURES:
- Auto-play highlights during breaks
- Victory celebrations
- Admin-curated highlight selection
- Transition animations between clips

--------------------------------------------------------------------------------
76. SCHEDULE GRID VIEW
--------------------------------------------------------------------------------
FEATURES:
- Alternative display mode showing matches as time-based schedule
- Grid format with round, match, and estimated time
- Station assignments per match
- Auto-scroll as matches complete

--------------------------------------------------------------------------------
77. IDLE MODE / SCREENSAVER
--------------------------------------------------------------------------------
FEATURES:
- Screensaver when no tournament active
- Bouncing venue logo
- Rotating flyers
- Upcoming events calendar

--------------------------------------------------------------------------------
78. ANIMATED MATCH DISPLAYS
--------------------------------------------------------------------------------
FEATURES:
- Winner celebration animations (confetti, highlights)
- Match transition effects (slide, fade)
- Score change animations (bounce, flash)
- Player name entrance animations
- Podium animations for finals

================================================================================
TIER 11: SIGNUP APP TECHNICAL IMPROVEMENTS
================================================================================

--------------------------------------------------------------------------------
79. SERVICE WORKER IMPROVEMENTS
--------------------------------------------------------------------------------
FEATURES:
- Update available notification
- Cache versioning with automatic cleanup
- Selective caching
- Network quality detection

--------------------------------------------------------------------------------
80. HAPTIC FEEDBACK (MOBILE)
--------------------------------------------------------------------------------
FEATURES:
- Vibration on successful signup
- Light vibration on button press
- Pattern vibration for errors

--------------------------------------------------------------------------------
81. PULL-TO-REFRESH
--------------------------------------------------------------------------------
FEATURES:
- Pull-to-refresh gesture on main page
- Loading animation during refresh
- Success/failure feedback

--------------------------------------------------------------------------------
82. ACCESSIBILITY IMPROVEMENTS
--------------------------------------------------------------------------------
FEATURES:
- ARIA labels on all interactive elements
- Keyboard navigation support
- Screen reader announcements
- High contrast mode toggle
- Reduced motion option

================================================================================
QUICK WINS (1-4 HOURS EACH)
================================================================================

ADMIN DASHBOARD:
1. Copy Tournament ID Button - Quick copy for sharing
2. Match Count Stats - Show "8/15 matches complete" on dashboard
3. Participant Count Badge - Real-time count in header with cap warning
4. Error Message Improvements - More specific, user-friendly errors
5. Settings Validation - Client-side validation for all forms
6. Tournament Metadata Display - Show bracket type, creation date

SIGNUP APP:
1. Copy Bracket Link Button
2. Social Share Buttons
3. Animated Success Checkmark
4. Tournament Timezone Display
5. Rules Page Print Button

RASPBERRY PI:
1. Add hostname to log messages
2. Add uptime to heartbeat startup message
3. Browser crash notification to admin
4. Add Pi model to heartbeat
5. Improve crash state persistence

STREAM DECK:
1. Add connection timeout to HID device open
2. Log API response times for monitoring
3. Cache participant names locally
4. Add error count display to main view
5. Create backup of config before saving

================================================================================
RECOMMENDED IMPLEMENTATION ROADMAP (SINGLE OPERATOR PRIORITY)
================================================================================

PHASE 1: TOURNAMENT DAY CRITICAL (Do First)
- Command Center View (#1) - COMPLETED 2025-12-07
- Keyboard Shortcuts (#2) - COMPLETED 2025-12-07
- Stream Deck WebSocket (#16) - COMPLETED 2025-12-07
- Mobile Admin PWA (#11) - NOT PURSUED (existing dashboard is mobile-optimized)
- Push Notifications (#12) - COMPLETED 2025-12-09

PHASE 2: EFFICIENCY GAINS
- Tournament Templates (#48) - COMPLETED 2025-12-09
- Scheduled Ticker Messages (#50)
- Auto-Deploy to Displays (#51) - COMPLETED 2025-12-13
- Batch Score Entry (#7) - COMPLETED 2025-12-09
- DQ/Forfeit Automation (#8) - COMPLETED 2025-12-09
- Match Queue Auto-Advance (#4) - COMPLETED 2025-12-09

PHASE 3: PARTICIPANT EXPERIENCE - PARTIALLY COMPLETE
- Self Check-In (#38)
- Email Confirmations (#40)
- Waitlist System (#39) - UI COMPLETED 2025-12-09 (backend pending)
- Participant Lookup (#43) - COMPLETED 2025-12-09
- Dark Mode Toggle (#45) - COMPLETED 2025-12-09
- Registration QR Code (#44)
- Style Guide Alignment - COMPLETED 2025-12-09

PHASE 4: SCALING PREPARATION
- Multi-Tournament View (#55)
- Referee Role (#56)
- Attendee Profiles (#58)
- Revenue Tracking (#59)

PHASE 5: DISPLAY RELIABILITY - PARTIALLY COMPLETE
- Chromium Hang Detection (#28) - COMPLETED 2025-12-09
- Intent Restart Fix (#27) - COMPLETED 2025-12-09
- Storage Detection Fix (#28b) - COMPLETED 2025-12-09
- Offline Caching (#30)
- Dual HDMI Support (#33)
- Remote Screenshot (#29)

PHASE 6: AI QUICK WINS (Highest ROI, Lowest Effort)
- AI-13: Player Momentum Tracking (1-2 days) - HOT/COLD indicators
- AI-14: Tournament Difficulty Index (1 day) - Strength comparison
- AI-15: Match Duration Prediction (2 days) - Time estimates
- AI-22: AI Response Quality Monitoring (2 days) - Reliability tracking

PHASE 7: AI OPERATOR ASSISTANCE
- AI-4: Smart Operator Assistant (VERY HIGH IMPACT)
- AI-5: Intelligent Ticker Message Generator
- AI-16: Station Auto-Assignment (3-4 days) - 40% efficiency gain
- AI-19: Smart DQ Timer Automation (3-4 days) - Context-aware DQ

PHASE 8: AI ANALYTICS & PREDICTIONS
- AI-2: Player Form Analysis & Momentum
- AI-3: Match Outcome Predictions
- AI-17: Upset Probability Prediction (4-5 days) - Viewer engagement
- AI-7: Duplicate Player Detection (3 days) - Data quality

PHASE 9: AI ENGAGEMENT & INFRASTRUCTURE
- AI-9: Personalized Player Feedback
- AI-10: Live Commentary Generation
- AI-18: Display Health Monitoring (3 days) - Proactive alerts
- AI-20: Stream Deck Context Awareness (4-5 days) - Smart suggestions
- AI-21: Unified AI Service Layer (3-4 days) - Architecture cleanup

PHASE 10: ADVANCED AI (Future)
- AI-6: PDF Report Enhancement
- AI-8: Tournament Meta Analysis
- AI-11: Scheduling Optimization
- AI-12: Natural Language Queries

PHASE 11: POLISH & ANALYTICS
- Attendance Forecasting (#61)
- Sponsor ROI Metrics (#64)
- 2FA Security (#68)

================================================================================
PHASE 2 RELIABILITY & SECURITY - COMPLETED 2025-12-09
================================================================================

These foundational improvements enhance system reliability and security.

--------------------------------------------------------------------------------
P2-1. FRONTEND MEMORY LEAK FIXES - COMPLETED
--------------------------------------------------------------------------------
Fixed setInterval/setTimeout cleanup in all 10 frontend JS files:
dashboard.js, participants.js, nav.js, matches.js, games.js, analytics.js,
flyers.js, sponsors.js, settings.js, command-center.js

--------------------------------------------------------------------------------
P2-2. MODULAR REFACTOR - COMPLETED (2025-12-09)
--------------------------------------------------------------------------------
Full extraction of server.js into modular architecture complete.

SERVICES EXTRACTED (~2,400 lines):
- services/settings.js - Settings file operations (~380 lines)
- services/rate-limiter.js - Adaptive Challonge rate limiting (~500 lines)
- services/activity-logger.js - Activity logging with WebSocket (~120 lines)
- services/challonge-api.js - Challonge API v2.1 communication (~300 lines)
- services/dq-timer.js - Server-side DQ timer management (~280 lines)
- services/match-polling.js - Centralized match polling (~550 lines)
- services/sponsor.js - Sponsor overlay management (~250 lines)
- services/index.js - Central export for all services

ROUTES EXTRACTED (~6,600 lines total):
- routes/auth.js - Login, logout, OAuth (~400 lines)
- routes/users.js - User CRUD (~170 lines)
- routes/settings.js - System settings (~250 lines)
- routes/games.js - Game configurations (~210 lines)
- routes/monitoring.js - System monitoring (~200 lines)
- routes/templates.js - Tournament templates (~180 lines)
- routes/stations.js - Station management (~250 lines)
- routes/participants.js - Participant CRUD, bulk add, seeding (~700 lines)
- routes/matches.js - Match operations, scoring, stations (~1,200 lines)
- routes/tournaments.js - Tournament CRUD, lifecycle (~800 lines)
- routes/displays.js - Pi display management (~650 lines)
- routes/flyers.js - Flyer uploads and management (~290 lines)
- routes/sponsors.js - Sponsor overlays (~300 lines)
- routes/analytics.js - Analytics and seeding suggestions (~600 lines)
- routes/exports.js - CSV/PDF exports (~600 lines)
- routes/api.js - Misc APIs: status, cache, timer, QR, etc. (~1,200 lines)
- routes/index.js - Central export for all routes

HELPERS EXTRACTED (~460 lines):
- helpers/pdf.js - PDF generation helpers (~140 lines)
- helpers/tournament-url.js - URL slug generation (~120 lines)
- helpers/websocket.js - Delta detection helpers (~200 lines)
- helpers/index.js - Central export for all helpers

MIDDLEWARE:
- middleware/auth.js - Authentication middleware (~160 lines)

Total extracted: ~9,620 lines into reusable modules.
Server.js reduced from ~12,000 lines to ~3,500 lines (orchestrator only).

--------------------------------------------------------------------------------
P2-3. INPUT VALIDATION (JOI) - COMPLETED
--------------------------------------------------------------------------------
Added Joi validation library with comprehensive schemas:
- validation/schemas.js - 25+ schemas for all API inputs
- middleware/validation.js - Express validation middleware

Integration with routes is incremental; schemas ready for use.

--------------------------------------------------------------------------------
P2-4. CREDENTIAL ENCRYPTION - COMPLETED
--------------------------------------------------------------------------------
Created encrypted secrets module (config/secrets.js):
- AES-256-GCM encryption at rest
- Separate key file with 0600 permissions
- Environment variable fallback for backward compatibility
- Migration helper from .env files

--------------------------------------------------------------------------------
P2-5. WEBSOCKET ACK ENHANCEMENT - COMPLETED
--------------------------------------------------------------------------------
Enhanced WebSocket delivery (services/websocket-ack.js):
- Message ID and sequence numbers
- Per-display ACK tracking
- Retry queue (3 attempts, 5s delay)
- HTTP fallback after max retries
- Statistics tracking

--------------------------------------------------------------------------------
P2-6. AI-POWERED TOURNAMENT SEEDING - COMPLETED 2025-12-09
--------------------------------------------------------------------------------
STATUS: IMPLEMENTED - See COMPLETED_IMPROVEMENTS.txt for full details
Claude Sonnet for seeding, locked positions, SQLite caching, bracket balance display

================================================================================
2025-12-14: NEW IMPROVEMENT IDEAS FROM CODEBASE EXPLORATION
================================================================================

Based on comprehensive codebase analysis, these are newly identified improvement
opportunities organized by priority and impact.

--------------------------------------------------------------------------------
NEW-1. ERROR HANDLING STANDARDIZATION (HIGH PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Inconsistent error handling patterns across route files. Some endpoints
have try-catch with minimal context, others lack proper logging.

FEATURES:
- Create services/error-handler.js with standardized error types
- Add exponential backoff retry logic for external API calls (Discord, analytics)
- Implement circuit breaker pattern for flaky services
- Add contextual logging with request ID tracking
- Return consistent error response format across all endpoints

FILES TO MODIFY:
- routes/matches.js (lines 303-470)
- routes/analytics.js (nested try-catches)
- routes/participants.js (bulk operations)
- routes/displays.js (cross-network commands)
- Create services/error-handler.js (NEW)

EFFORT: Medium (2-3 days)
IMPACT: High - System reliability

--------------------------------------------------------------------------------
NEW-2. INPUT VALIDATION COMPLETION (HIGH PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Joi validation schemas exist but not all routes use them. Participants
route lacks validation. Bulk operations don't validate individual records.

FEATURES:
- Enforce validation middleware on ALL routes (currently selective)
- Add comprehensive validation for bulk participant add (CSV parsing, duplicates)
- Implement field-level transformation (trim, sanitize) for all string inputs
- Add validation for seed numbers (must be 1-N, no duplicates)
- Create reusable validators for common patterns

VALIDATION GAPS:
- routes/participants.js: No validation on PUT/POST bodies
- routes/flyers.js: File type validation only on extension, not MIME type
- routes/matches.js: Batch score entry lacks per-entry validation
- routes/tournaments.js: Format-specific options not validated

EFFORT: Medium (2 days)
IMPACT: High - Security & data quality

--------------------------------------------------------------------------------
NEW-3. HEALTH CHECK DIAGNOSTICS ENHANCEMENT (HIGH PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Health checks only verify service is running. No detection of database
corruption, disk space issues, memory leaks, or WebSocket queue backlog.

FEATURES:
- Add database integrity check (PRAGMA integrity_check)
- Check disk space for database location (warn if < 10%)
- Add memory usage monitoring (warn if > 80%)
- Check WebSocket message queue length (warn if > 1000)
- Verify latest match update is recent (< 30s old)
- Return detailed health report JSON with all checks

EFFORT: Medium (2 days)
IMPACT: High - Proactive issue detection

--------------------------------------------------------------------------------
NEW-4. BRACKET RENDERER PERFORMANCE (MEDIUM PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Canvas rendering slows with 64+ participants in double elimination.
No performance optimization for large brackets.

FEATURES:
- Implement viewport-based culling (only render visible matches)
- Add canvas layer caching for static elements (titles, round labels)
- Implement virtual scrolling for extremely large brackets
- Add performance metrics dashboard showing render time
- Optimize font rendering (use native canvas font, not web fonts)
- Add GPU acceleration detection and fallback

BENCHMARK TARGETS:
- 64 participants (double elim) - target < 300ms render
- 128 participants - target < 1000ms render

FILES: bracket-display/public/js/bracket-renderer.js

EFFORT: High (3-4 days)
IMPACT: Medium - Better UX for large tournaments

--------------------------------------------------------------------------------
NEW-5. DISPLAY OFFLINE RESILIENCE (MEDIUM PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Display services go blank if WebSocket disconnects and HTTP polling
fails. Should show cached data with "Connection Lost" overlay.

FEATURES:
- Store last successful bracket/match data in localStorage
- Show "Connection Lost - Retrying..." overlay when disconnected
- Display last-known match info (not live, but not blank)
- Auto-reload page if disconnected > 2 minutes
- Add visual indicator of data staleness (fade/opacity)
- Log connectivity issues for debugging

FILES:
- bracket-display/public/js/bracket-display.js
- match-display/public/js/match-display.js
- flyer-display/public/js/flyer-display.js

EFFORT: Medium (2 days)
IMPACT: High - Prevents blank displays during network issues

--------------------------------------------------------------------------------
NEW-6. ACTIVITY LOGGING COMPLETENESS (MEDIUM PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Activity logging exists but misses critical operations. No logging for
settings changes, failed logins, API errors, or data exports.

FEATURES:
- Add activity log entry for all settings changes (before/after values)
- Log all failed login attempts with IP address and timestamp
- Log all failed API requests (> 400 status) with user/IP
- Add entry for data exports (tournaments/players, date range, who exported)
- Create retention policy (auto-archive logs > 90 days)
- Add filtering/search in Platform Admin audit log UI

FILES:
- services/activity-logger.js (extend)
- routes/exports.js (add logging)
- routes/auth.js (failed login logging)
- middleware/auth.js (API error logging)

EFFORT: Medium (2 days)
IMPACT: Medium - Compliance & debugging

--------------------------------------------------------------------------------
NEW-7. BULK CHECK-IN OPERATIONS (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Check-in is single-participant only. With 64 participants, checking
in each individually takes ~60 seconds.

FEATURES:
- Add "Check In Multiple" modal with participant selection
- Implement QR code scanning for instant check-in (mobile camera)
- Add batch check-in via CSV/names list
- Show check-in count progress badge on participants page
- Add "Check In All Remaining" button (after confirming)
- Implement undo-last-N-check-ins feature

FILES:
- routes/participants.js (bulk check-in endpoint)
- public/js/participants.js (UI for multi-select)

EFFORT: Medium (2 days)
IMPACT: Medium - Tournament day efficiency

--------------------------------------------------------------------------------
NEW-8. DQ TIMER ENHANCEMENTS (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Current DQ timer is basic. Missing features for competitive tournaments.

FEATURES:
- Add preset custom durations (30s, 60s, 90s, 180s) with quick buttons
- Implement per-match DQ timer history
- Add "Give Extra Time" button (+30s) during active timer
- Send push notification when DQ timer expires
- Add optional sound alert at specific thresholds (60s, 30s, 10s, 5s, 0s)
- Track DQ time statistics (average DQ wait time, frequency)

FILES:
- services/dq-timer.js (extend)
- public/js/command-center.js (UI enhancements)

EFFORT: Low (1-2 days)
IMPACT: Medium - Better tournament flow

--------------------------------------------------------------------------------
NEW-9. FLYER TRANSITION EFFECTS (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Flyer transitions are instant (jarring). No animation between images.

FEATURES:
- Add configurable transition effects (fade, slide, cross-fade)
- Implement fade-in on flyer load (~500ms)
- Add slideshow mode with auto-advance interval
- Show visual indicator of "loading" during image fetch
- Add debug mode showing current flyer URL and file size

FILES: flyer-display/public/js/flyer-display.js

EFFORT: Low (1 day)
IMPACT: Low - Visual polish

--------------------------------------------------------------------------------
NEW-10. PLATFORM ADMIN SERVICE LOGS TAB (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Platform Admin has 7 tabs but "Service Logs" tab shows TODO comment.
Superadmin can't view system service logs from UI.

FEATURES:
- Fetch journalctl output via /api/admin/logs endpoint
- Support filtering by service (control-center-admin, match-display, etc.)
- Support date range filtering and search
- Add download as text file feature
- Auto-refresh option with 5-second polling

FILES:
- routes/platform.js (add /logs endpoint)
- public/js/platform-admin.js (add tab UI and handler)

EFFORT: Low (1 day)
IMPACT: Low - Operational convenience

--------------------------------------------------------------------------------
NEW-11. KEYBOARD SHORTCUTS VISUAL CHEATSHEET (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Keyboard shortcuts documented in code but not shown to users.
Pressing '?' shows help but only as console message.

FEATURES:
- Add visual "Keyboard Shortcuts" modal accessible via '?' key
- Show shortcuts with icons/graphics for intuitive learning
- Highlight most frequently used shortcuts (1-5, W, L, Enter)
- Add tutorial on first-time use suggesting keyboard shortcuts
- Allow customization of keyboard bindings (user preferences)

FILES:
- public/command-center.html (add modal HTML)
- public/js/command-center.js (modal handler)

EFFORT: Low (1 day)
IMPACT: Low - UX improvement

--------------------------------------------------------------------------------
NEW-12. TEMPLATE EXPORT/IMPORT (LOW PRIORITY)
--------------------------------------------------------------------------------
PROBLEM: Tournament templates exist but can't be shared/exported.

FEATURES:
- Add export template as JSON file
- Add import template from JSON
- Add cloud template sharing (community templates)
- Add template versioning and changelog
- Add template usage statistics

FILES:
- routes/templates.js (export/import endpoints)
- public/js/settings.js (export/import UI)

EFFORT: Low (1 day)
IMPACT: Low - Operational convenience

================================================================================
CONTACT & REFERENCES
================================================================================

For completed features, see: COMPLETED_IMPROVEMENTS.txt

Admin Dashboard: https://admin.despairhardware.com (port 3000)
Tournament Signup: https://signup.despairhardware.com (port 3001)
Match Display: http://localhost:8080 (MagicMirror-match)
Bracket Display: http://localhost:8081 (MagicMirror-bracket)
Flyer Display: http://localhost:8082 (MagicMirror-flyer)

Stream Deck: 192.168.1.175 (Pi Zero 2 W)
Display Pi 1: 192.168.1.145 (pi-display-1)

GitHub Repository: https://github.com/rick0490/tournament-control-center (private)

================================================================================
TIER 12: NEW IMPROVEMENT SUGGESTIONS (2025-12-13)
================================================================================

These 30 suggestions were generated from comprehensive codebase analysis,
integrating modern tools, visual/UI updates, and quality-of-life improvements.

================================================================================
CATEGORY A: NEW TOOLS & INTEGRATIONS
================================================================================

--------------------------------------------------------------------------------
NEW-1. DISCORD BOT INTEGRATION
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (3-4 days)

FEATURES:
- Automated match announcements to Discord channel
- Player @mentions when matches are called
- Results posting with bracket graphics
- Commands: !bracket, !standings, !nextmatch @player
- Uses discord.js library

INTEGRATION POINTS:
- Tournament lifecycle events (start, complete)
- Match polling (match:complete events)
- Ticker messages (cross-post to Discord)

FILES TO CREATE:
- admin-dashboard/services/discord-bot.js
- admin-dashboard/routes/discord.js

--------------------------------------------------------------------------------
NEW-2. TWITCH/YOUTUBE STREAM INTEGRATION
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Medium (2-3 days)

FEATURES:
- Display "LIVE ON TWITCH" badge when stream active
- Stream viewer count on admin dashboard
- Auto-switch bracket display to show stream during finals
- Stream URL in ticker rotation
- Uses Twitch Helix API / YouTube Data API

CONFIGURATION:
- Twitch Client ID and OAuth token
- YouTube API key
- Stream channel name/ID

--------------------------------------------------------------------------------
NEW-3. START.GG SYNC BRIDGE
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: High (5-6 days)

FEATURES:
- Import tournaments from start.gg
- Sync participants bidirectionally
- Export results to external platforms
- Unified tournament presence across platforms
- OAuth integration with start.gg

NOTE: Extends beyond current local-only model for broader reach.
Requires start.gg API access (developer account).

--------------------------------------------------------------------------------
NEW-4. STRIPE PAYMENT INTEGRATION
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (3-4 days)

FEATURES:
- Entry fee collection via signup PWA
- Automatic payment tracking per participant
- Refund handling for no-shows
- Revenue reporting integration
- Stripe Elements for secure card entry

MONETIZATION TIE-IN: Direct revenue capture (3-5% transaction fee)

FILES TO CREATE:
- admin-dashboard/services/stripe-payments.js
- admin-dashboard/routes/payments.js
- tournament-signup/public/js/payment.js

ENVIRONMENT VARIABLES:
- STRIPE_SECRET_KEY
- STRIPE_PUBLISHABLE_KEY
- STRIPE_WEBHOOK_SECRET

--------------------------------------------------------------------------------
NEW-5. EMAIL SERVICE INTEGRATION (SENDGRID/RESEND)
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

FEATURES:
- Tournament confirmation emails
- 24-hour reminder emails
- Results & Elo update emails
- Check-in deadline reminders
- HTML email templates with branding

REPLACES: Current nodemailer placeholder (Item #40)

FILES TO CREATE:
- admin-dashboard/services/email-service.js
- admin-dashboard/templates/email/*.html

--------------------------------------------------------------------------------
NEW-6. CALENDAR INTEGRATION (GOOGLE/APPLE/OUTLOOK)
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Low (1 day)

FEATURES:
- "Add to Calendar" button on signup
- ICS file generation endpoint
- Google Calendar API for auto-sync
- Recurring event support

ENHANCES: Item #60 (Event Calendar Integration)

FILES TO MODIFY:
- tournament-signup/server.js (ICS endpoint)
- tournament-signup/public/index.html (calendar buttons)

--------------------------------------------------------------------------------
NEW-7. IMAGE OPTIMIZATION PIPELINE EXTENSION
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (partial implementation exists)

CURRENT STATE:
- Flyer auto-resize to 1920x1080 max (COMPLETED)
- Sharp library already integrated

ENHANCEMENTS:
- Sponsor logo optimization (max 500x500)
- WebP conversion for bandwidth savings
- Thumbnail generation for galleries
- Lazy loading for image-heavy pages

FILES TO MODIFY:
- admin-dashboard/routes/sponsors.js (add optimization)
- admin-dashboard/routes/flyers.js (add WebP option)

--------------------------------------------------------------------------------
NEW-8. REAL-TIME ANALYTICS DASHBOARD (CHART.JS)
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Medium (2-3 days)

FEATURES:
- Live tournament progress visualization
- Match duration trend charts
- Player Elo history graphs
- Attendance over time line chart
- Export charts as images for social media

LIBRARY: Chart.js (lightweight, no dependencies)

FILES TO CREATE:
- admin-dashboard/public/js/charts.js
- Integrate into analytics.html

--------------------------------------------------------------------------------
NEW-9. BARCODE/TICKET SCANNER INTEGRATION
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Medium (2-3 days)

FEATURES:
- Generate unique barcodes per registration
- Camera-based scanning for check-in
- Print-at-home tickets with QR codes
- Integrates with participant check-in system

LIBRARY: html5-qrcode or quagga2

FILES TO CREATE:
- admin-dashboard/public/js/scanner.js
- admin-dashboard/routes/checkin-scanner.js

--------------------------------------------------------------------------------
NEW-10. AI FEATURE EXPANSION (ANTHROPIC SDK)
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (infrastructure exists)

CURRENT STATE:
- AI seeding (COMPLETED)
- Tournament narratives (COMPLETED)

NEW AI FEATURES:
- Smart ticker suggestions based on match context
- Auto-generated match previews for displays
- Player analysis summaries
- Opponent research reports

EXTENDS: AI-5, AI-10 in existing roadmap

================================================================================
CATEGORY B: VISUAL/UI UPDATES
================================================================================

--------------------------------------------------------------------------------
NEW-11. GLASSMORPHISM UI REFRESH
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Medium (2-3 days)

FEATURES:
- Frosted glass effect on modals and cards
- Backdrop blur for overlays
- Gradient backgrounds with noise texture
- Modern, premium aesthetic

APPLIED TO:
- Command Center quadrants
- All modals
- Sidebar navigation

CSS IMPLEMENTATION:
```css
.glass-card {
  background: rgba(31, 41, 55, 0.8);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}
```

--------------------------------------------------------------------------------
NEW-12. ANIMATED MATCH TRANSITIONS (GSAP)
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Medium (2-3 days)

FEATURES:
- Smooth card transitions when matches update
- Winner celebration micro-animations
- Score change animations (number roll)
- Match state color transitions

TV DISPLAYS ONLY: Performance considerations

LIBRARY: GSAP (GreenSock) or CSS animations

--------------------------------------------------------------------------------
NEW-13. CUSTOM BRANDING THEME BUILDER
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (3-4 days)

FEATURES:
- Per-user color scheme customization
- Logo upload for branded displays
- Custom fonts selection (from safe list)
- Preview before applying
- Export/import theme configurations

MONETIZATION TIE-IN: Premium feature for paid subscription tiers

FILES TO CREATE:
- admin-dashboard/services/theme-builder.js
- admin-dashboard/public/theme-editor.html

--------------------------------------------------------------------------------
NEW-14. ACCESSIBILITY IMPROVEMENTS (WCAG 2.1 AA)
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (2-3 days)

FEATURES:
- Color contrast fixes (some grays fail AA)
- Focus visible indicators on all interactive elements
- Screen reader announcements for live updates
- Keyboard navigation improvements
- Reduced motion preferences support
- High contrast mode toggle

ADDRESSES: Item #82 in existing roadmap

TESTING: axe-core or WAVE browser extensions

--------------------------------------------------------------------------------
NEW-15. RESPONSIVE DASHBOARD GRID LAYOUTS
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

FEATURES:
- CSS Grid for dashboard overview
- Drag-and-drop widget reordering
- Collapsible sections with localStorage memory
- Optimal layouts per screen size

FOCUS: iPad Pro (M4) landscape optimization

--------------------------------------------------------------------------------
NEW-16. TOURNAMENT PROGRESS VISUALIZATION
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

FEATURES:
- Visual bracket progress bar
- "Currently in: Round 3 of 5" indicator
- Animated bracket fill as matches complete
- Time estimate to completion

ENHANCES: Command Center system status panel

--------------------------------------------------------------------------------
NEW-17. PLAYER AVATAR SYSTEM
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Medium (2-3 days)

FEATURES:
- Upload player photos/avatars
- Display on match cards and brackets
- Auto-generate initials-based avatars (fallback)
- Character icons for fighting games
- Gravatar fallback via email hash

ENHANCES: Item #41 (Character Selection)

FILES TO CREATE:
- admin-dashboard/services/avatar-service.js
- admin-dashboard/routes/avatars.js

--------------------------------------------------------------------------------
NEW-18. DARK MODE IMPROVEMENTS
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1 day)

CURRENT STATE: Dark/light toggle implemented

ENHANCEMENTS:
- True OLED black option (#000000 background)
- Automatic scheduling (sunset/sunrise based on location)
- Per-display theme override
- Reduced blue light mode for night events

--------------------------------------------------------------------------------
NEW-19. LOADING STATE SKELETONS
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Low (1 day)

FEATURES:
- Skeleton loading states for all data panels
- Shimmer animations during fetch
- Perceived performance improvement
- Consistent loading UX across all pages

CSS IMPLEMENTATION:
```css
.skeleton {
  background: linear-gradient(90deg, #1f2937 25%, #374151 50%, #1f2937 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}
```

--------------------------------------------------------------------------------
NEW-20. COMPACT VIEW MODE
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

FEATURES:
- Denser information display option
- Smaller fonts, reduced padding
- More matches visible without scrolling
- Toggle per page with localStorage memory

USE CASE: Large tournaments (64+ participants)

================================================================================
CATEGORY C: QUALITY OF LIFE UPDATES
================================================================================

--------------------------------------------------------------------------------
NEW-21. UNDO/REDO SYSTEM FOR MATCH ACTIONS
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (2-3 days)

FEATURES:
- Undo last score entry (5-action history stack)
- Redo capability
- Visual indicator of undoable actions
- Confirmation for destructive undos

ADDRESSES: Part of Item #6 (Panic Mode) - Emergency Controls

IMPLEMENTATION:
- Store action history in memory per session
- Backend endpoint to reverse match state
- POST /api/matches/:id/undo

--------------------------------------------------------------------------------
NEW-22. KEYBOARD SHORTCUT EXPANSION
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1 day)

CURRENT STATE: Command Center has page-specific shortcuts

NEW GLOBAL SHORTCUTS (work on any page):
- Ctrl+K: Quick command palette
- Ctrl+/: Show all shortcuts
- G M: Go to Matches
- G T: Go to Tournament
- G P: Go to Participants
- G D: Go to Dashboard
- G A: Go to Analytics

EXTENDS: Item #2 (Keyboard Shortcuts)

--------------------------------------------------------------------------------
NEW-23. COMMAND PALETTE (SPOTLIGHT SEARCH)
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Medium (2-3 days)

FEATURES:
- Ctrl+K opens command palette overlay
- Search across: pages, actions, participants, matches
- Quick actions: "Start next match", "Send ticker", "Refresh data"
- Recent actions history
- Fuzzy search matching

INSPIRED BY: VS Code, Linear, Notion

FILES TO CREATE:
- admin-dashboard/public/js/command-palette.js
- CSS in style.css

--------------------------------------------------------------------------------
NEW-24. BULK OPERATIONS FOR PARTICIPANTS
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

FEATURES:
- Multi-select participants (checkbox column)
- Bulk check-in (select all unchecked, one-click check-in)
- Bulk delete selected
- Bulk export selected to CSV
- Bulk seed assignment (auto-sequence from selection order)

ENHANCES: Item #9 (Participant Check-in Improvements)

--------------------------------------------------------------------------------
NEW-25. QUICK SETTINGS PANEL
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Low (1 day)

FEATURES:
- Floating settings gear icon (bottom-right)
- Quick toggles: Dark mode, compact view, sound notifications
- DQ timer duration quick-change slider
- Auto-refresh interval adjustment
- No page navigation required

--------------------------------------------------------------------------------
NEW-26. SESSION HANDOFF BETWEEN DEVICES
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Medium (2-3 days)

FEATURES:
- QR code to transfer session to mobile device
- Secure token-based handoff (expires in 5 minutes)
- Active sessions view in settings
- Remote logout capability

USE CASE: Switch from iPad to phone seamlessly during tournament

FILES TO CREATE:
- admin-dashboard/routes/session-handoff.js
- admin-dashboard/public/js/session-handoff.js

--------------------------------------------------------------------------------
NEW-27. OFFLINE MODE IMPROVEMENTS
--------------------------------------------------------------------------------
PRIORITY: High | EFFORT: Medium (3-4 days)

CURRENT STATE:
- Item #30 (Pi offline caching) pending
- Item #47 (Signup background sync) pending

ENHANCEMENTS:
- Full tournament data cached in IndexedDB
- Queue actions when offline (scored matches, check-ins)
- Auto-sync when reconnected
- Conflict resolution for concurrent edits
- Visual "OFFLINE MODE" banner indicator

EXTENDS: Items #30, #47

--------------------------------------------------------------------------------
NEW-28. SMART NOTIFICATIONS SYSTEM
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1-2 days)

CURRENT STATE: Push notifications implemented (#12)

ENHANCEMENTS:
- Notification preferences per category (granular control)
- Quiet hours configuration
- Desktop notification center (history view)
- Clear all / mark all read
- Notification grouping (batch similar notifications)

--------------------------------------------------------------------------------
NEW-29. PERFORMANCE MONITORING DASHBOARD
--------------------------------------------------------------------------------
PRIORITY: Low | EFFORT: Low (1 day)

FEATURES:
- API response times chart (last 100 requests)
- Database query performance metrics
- WebSocket latency tracking
- Memory usage trends
- Display health overview (all Pis)

ENHANCES: System monitoring in settings page

--------------------------------------------------------------------------------
NEW-30. TOURNAMENT HISTORY QUICK ACCESS
--------------------------------------------------------------------------------
PRIORITY: Medium | EFFORT: Low (1 day)

FEATURES:
- "Recent Tournaments" dropdown in header/navbar
- Quick jump to past tournament analytics
- Pin favorite/frequent tournaments
- Search tournaments by date, name, game
- Last 5 tournaments always accessible

ENHANCES: Analytics page navigation

================================================================================
RECONCILIATION NOTES
================================================================================

ITEMS NOW COVERED BY NEW SUGGESTIONS:
- #6 Panic Mode → NEW-21 (Undo/Redo System) - Partial coverage
- #60 Calendar Integration → NEW-6 - Fully covered
- #82 Accessibility → NEW-14 - Fully covered
- #30/#47 Offline → NEW-27 - Extended
- #41 Character Selection → NEW-17 (Player Avatar System) - Extended

SUGGESTED MERGES:
- AI-4, AI-5, AI-10 → "AI Assistant Suite" feature group
- M10, M11, M12 (Monetization) → "Sponsor Engagement Package"
- #38-47 (Signup improvements) → "Participant Experience 2.0" milestone

PRIORITY ELEVATIONS (Move to Tier 1):
- NEW-21 Undo/Redo System - Critical for live event recovery
- NEW-27 Offline Mode - Network reliability is critical per constraints

PRIORITY DEMOTIONS (Move to Tier 4+):
- AI-8 Tournament Meta Analysis - Requires character tracking infrastructure
- AI-12 Natural Language Queries - Nice-to-have, not tournament-day critical

================================================================================
UPDATED ROADMAP ADDITIONS
================================================================================

Add to PHASE 2 (Efficiency Gains):
- NEW-1: Discord Bot Integration

Add to PHASE 3 (Participant Experience):
- NEW-4: Stripe Payment Integration

Add to PHASE 6 (AI Quick Wins):
- NEW-23: Command Palette

Add to PHASE 7 (AI Operator Assistance):
- NEW-21: Undo/Redo System
- NEW-26: Session Handoff

Add to PHASE 8 (AI Analytics):
- NEW-8: Real-time Analytics Dashboard

NEW PHASE 12: UI/UX Polish
- NEW-11: Glassmorphism UI Refresh
- NEW-12: Animated Match Transitions
- NEW-13: Custom Branding Theme Builder
- NEW-14: Accessibility Improvements
- NEW-19: Loading State Skeletons
- NEW-20: Compact View Mode

================================================================================
END OF DOCUMENT
================================================================================
